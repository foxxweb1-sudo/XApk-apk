<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TECH | XAPK Pro Unpacker v3.0</title>
    
    <!-- Google AdSense - Your Client ID Applied -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9619642683790457" crossorigin="anonymous"></script>

    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap');
        
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --accent: #22d3ee;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: radial-gradient(circle at top right, #f8fafc, #f1f5f9);
            min-height: 100vh;
            color: #1e293b;
            overflow-x: hidden;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.05);
        }

        .tech-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .tech-card:hover {
            transform: translateY(-8px) scale(1.01);
            box-shadow: 0 30px 60px -12px rgba(99, 102, 241, 0.15);
        }

        .tech-text-gradient {
            background: linear-gradient(135deg, #4f46e5, #9333ea, #06b6d4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% 200%;
            animation: gradientFlow 5s ease infinite;
        }

        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .btn-glow {
            position: relative;
            overflow: hidden;
        }

        .btn-glow::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.6s ease-out;
        }

        .btn-glow:hover::after {
            transform: scale(1);
        }

        .file-entry {
            animation: popIn 0.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
            opacity: 0;
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .loader-ring {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, transparent, var(--primary));
            mask: radial-gradient(farthest-side, transparent calc(100% - 4px), black 0);
            -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 4px), black 0);
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        .ad-container {
            background: repeating-linear-gradient(45deg, #fafafa, #fafafa 10px, #ffffff 10px, #ffffff 20px);
            border: 1px dashed #e2e8f0;
        }
    </style>
</head>
<body class="p-4 md:p-10">

    <div class="max-w-6xl mx-auto space-y-10">
        
        <!-- Premium Header -->
        <header class="text-center space-y-4 py-6">
            <div class="inline-flex items-center gap-2 px-4 py-1.5 bg-indigo-50 rounded-full border border-indigo-100 mb-2">
                <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-indigo-400 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-indigo-500"></span>
                </span>
                <span class="text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em]">Next-Gen Unpacker</span>
            </div>
            <h1 class="text-6xl md:text-8xl font-black tech-text-gradient tracking-tighter">TECH PRO</h1>
            <p class="text-gray-400 font-medium text-lg md:text-xl">Ø£Ø³Ø±Ø¹ Ø£Ø¯Ø§Ø© Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…Ù„ÙØ§Øª XAPK ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø·</p>
        </header>

        <!-- Top Ad Unit -->
        <div class="ad-container w-full max-w-4xl mx-auto rounded-3xl h-[100px] flex items-center justify-center overflow-hidden">
            <!-- Ad Slot -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-9619642683790457"
                 data-ad-slot="default"
                 data-ad-format="horizontal"
                 data-full-width-responsive="true"></ins>
            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
        </div>

        <main class="grid gap-8">
            
            <!-- Welcome/Auth Screen -->
            <div id="step-auth" class="max-w-xl mx-auto w-full">
                <div class="glass-panel rounded-[3rem] p-12 text-center space-y-10 shadow-2xl relative overflow-hidden">
                    <div class="absolute -top-20 -right-20 w-40 h-40 bg-indigo-100 rounded-full blur-3xl opacity-50"></div>
                    <div class="relative z-10 space-y-6">
                        <div class="w-20 h-20 bg-gradient-to-tr from-indigo-500 to-purple-500 rounded-3xl flex items-center justify-center mx-auto text-white shadow-2xl rotate-3">
                            <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        </div>
                        <h2 class="text-4xl font-black text-gray-800">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ XAPK Pro Unpacker</h2>
                        <p class="text-gray-500 leading-relaxed px-4">Ù‚Ù… Ø¨ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ Ø§Ù„Ø°ÙƒÙŠ Ù„Ø¨Ø¯Ø¡ Ù…Ø¹Ø§Ù„Ø¬Ø© Ù…Ù„ÙØ§Øª XAPK Ùˆ OBB ÙˆØ§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§ØªÙƒ.</p>
                        <button onclick="activateEngine()" class="btn-glow w-full py-5 bg-slate-900 text-white font-black rounded-2xl text-lg shadow-xl hover:bg-indigo-600 transition-all active:scale-95">
                            Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¢Ù†
                        </button>
                    </div>
                </div>
            </div>

            <!-- Workspace -->
            <div id="step-main" class="hidden space-y-10">
                <div class="grid lg:grid-cols-12 gap-10">
                    
                    <!-- Sidebar: Control & Ad -->
                    <div class="lg:col-span-4 space-y-8">
                        <div id="dropZone" class="glass-panel rounded-[2.5rem] p-10 text-center border-4 border-dashed border-indigo-100 hover:border-indigo-400 cursor-pointer transition-all group relative overflow-hidden">
                            <input type="file" id="fileInput" accept=".xapk,.zip" class="hidden">
                            <div class="relative z-10 space-y-6">
                                <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto shadow-xl group-hover:scale-110 transition-transform">
                                    <svg class="w-12 h-12 text-indigo-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>
                                </div>
                                <div>
                                    <h3 class="text-2xl font-black text-gray-800">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù„Ù</h3>
                                    <p class="text-sm text-gray-400 mt-1">XAPK, ZIP, or APK</p>
                                </div>
                            </div>
                        </div>

                        <!-- Side Ad -->
                        <div class="ad-container rounded-[2rem] p-4 text-center">
                            <p class="text-[9px] font-bold text-gray-300 uppercase tracking-widest mb-3">Ø¥Ø¹Ù„Ø§Ù†</p>
                            <ins class="adsbygoogle"
                                 style="display:block"
                                 data-ad-client="ca-pub-9619642683790457"
                                 data-ad-slot="default"
                                 data-ad-format="rectangle"
                                 data-full-width-responsive="true"></ins>
                            <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
                        </div>
                    </div>

                    <!-- Main: Results Area -->
                    <div class="lg:col-span-8 space-y-6">
                        <div id="processCard" class="hidden glass-panel rounded-[2rem] p-8">
                            <div class="flex items-center gap-6">
                                <div class="loader-ring"></div>
                                <div class="flex-1 space-y-2">
                                    <div class="flex justify-between items-end">
                                        <p id="statusTitle" class="font-black text-gray-800">Ø¬Ø§Ø±ÙŠ ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±...</p>
                                        <span id="progressLabel" class="text-2xl font-black text-indigo-600">0%</span>
                                    </div>
                                    <div class="w-full bg-indigo-50 h-3 rounded-full overflow-hidden">
                                        <div id="progressBar" class="h-full bg-gradient-to-r from-indigo-500 to-cyan-400 w-0 transition-all duration-300"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="resultsCard" class="hidden space-y-6">
                            <div class="flex items-center justify-between px-4">
                                <div class="flex items-center gap-3">
                                    <div class="w-2 h-8 bg-indigo-600 rounded-full"></div>
                                    <h3 class="text-3xl font-black text-gray-800">Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©</h3>
                                </div>
                                <button onclick="downloadAll()" class="px-6 py-3 bg-indigo-50 text-indigo-600 rounded-2xl font-black text-xs uppercase tracking-tighter hover:bg-indigo-100 transition-colors">
                                    ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù„Ù ZIP
                                </button>
                            </div>
                            <div id="filesList" class="grid gap-4 max-h-[700px] overflow-y-auto no-scrollbar pb-10">
                                <!-- Cards Injected Here -->
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div id="resultsEmpty" class="h-full min-h-[400px] flex flex-col items-center justify-center bg-white/40 rounded-[3rem] border-2 border-dashed border-gray-100 p-12 text-center">
                            <div class="w-32 h-32 bg-gray-50 rounded-full flex items-center justify-center mb-6">
                                <svg class="w-16 h-16 text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                            </div>
                            <h3 class="text-2xl font-bold text-gray-300">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…Ù„ÙØ§ØªÙƒ Ø§Ù„Ø«Ù…ÙŠÙ†Ø©</h3>
                            <p class="text-gray-400 mt-2">Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªÙŠ Ø³ØªÙ‚ÙˆÙ… Ø¨Ø§Ø³ØªØ®Ø±Ø§Ø¬Ù‡Ø§ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¨ØªÙ†Ø³ÙŠÙ‚ Ø±Ø§Ø¦Ø¹</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Footer Info -->
        <footer class="grid md:grid-cols-3 gap-6 pt-10 border-t border-gray-100">
            <div class="flex items-start gap-4 p-6">
                <span class="text-2xl">âš¡</span>
                <div>
                    <h4 class="font-black text-gray-800">Ø£Ø¯Ø§Ø¡ Ù†ÙØ§Ø«</h4>
                    <p class="text-xs text-gray-400 mt-1">ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¨Ù†Ø³Ø¨Ø© 40% ÙÙŠ Ø³Ø±Ø¹Ø© ÙÙƒ Ø§Ù„Ø¶ØºØ· Ø¹Ù† Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©.</p>
                </div>
            </div>
            <div class="flex items-start gap-4 p-6">
                <span class="text-2xl">ğŸ“±</span>
                <div>
                    <h4 class="font-black text-gray-800">Ø§Ù„ØªÙˆØ§ÙÙ‚ Ø§Ù„ØªØ§Ù…</h4>
                    <p class="text-xs text-gray-400 mt-1">Ø¯Ø¹Ù… ÙƒØ§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø£Ù†Ø¯Ø±ÙˆÙŠØ¯ Ù…Ù† 5.0 ÙˆØ­ØªÙ‰ 14.</p>
                </div>
            </div>
            <div class="flex items-start gap-4 p-6">
                <span class="text-2xl">ğŸ›¡ï¸</span>
                <div>
                    <h4 class="font-black text-gray-800">Ø¨ÙŠØ¦Ø© Ù…Ø¹Ø²ÙˆÙ„Ø©</h4>
                    <p class="text-xs text-gray-400 mt-1">ØªØªÙ… Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ Ù…Ø¨Ø§Ø´Ø±Ø©Ø› Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ø§ ØªØºØ§Ø¯Ø± Ø¬Ù‡Ø§Ø²Ùƒ Ø£Ø¨Ø¯Ø§Ù‹.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Installation Modal -->
    <div id="installModal" class="fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[200] hidden items-center justify-center p-6">
        <div class="bg-white rounded-[3.5rem] max-w-md w-full p-12 text-center space-y-10 shadow-2xl relative animate-in zoom-in duration-300">
            <div class="w-28 h-28 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-[2.5rem] flex items-center justify-center mx-auto text-white shadow-2xl shadow-indigo-200 rotate-6">
                <svg class="w-14 h-14" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
            </div>
            <div class="space-y-3">
                <h3 class="text-4xl font-black text-gray-800 tracking-tight">Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ«Ø¨ÙŠØªØŸ</h3>
                <p class="text-gray-400 px-2 leading-relaxed">Ø³Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù ÙˆÙØªØ­Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹. ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø·Ø§Ø¡ Ø§Ù„Ù…ØªØµÙØ­ ØµÙ„Ø§Ø­ÙŠØ© "Ø§Ù„ØªØ«Ø¨ÙŠØª Ù…Ù† Ù…ØµØ§Ø¯Ø± ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙØ©".</p>
            </div>
            <div class="grid gap-3">
                <button id="confirmInstall" class="btn-glow w-full py-5 bg-indigo-600 text-white font-black rounded-2xl shadow-xl shadow-indigo-100">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ«Ø¨ÙŠØª</button>
                <button onclick="closeModal()" class="w-full py-5 text-gray-400 font-bold hover:text-indigo-600 transition-colors">Ù„ÙŠØ³ Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>
    </div>

    <!-- Smart Toast -->
    <div id="toast" class="fixed bottom-12 left-1/2 -translate-x-1/2 translate-y-32 opacity-0 transition-all duration-700 z-[300]">
        <div class="bg-slate-900 text-white px-10 py-5 rounded-3xl shadow-2xl flex items-center gap-5 border border-white/10">
            <div id="toastIcon" class="text-2xl"></div>
            <span id="toastMsg" class="font-black text-sm tracking-wide"></span>
        </div>
    </div>

    <script>
        const UI = {
            stepAuth: document.getElementById('step-auth'),
            stepMain: document.getElementById('step-main'),
            fileInput: document.getElementById('fileInput'),
            dropZone: document.getElementById('dropZone'),
            processCard: document.getElementById('processCard'),
            progressBar: document.getElementById('progressBar'),
            progressLabel: document.getElementById('progressLabel'),
            statusTitle: document.getElementById('statusTitle'),
            resultsCard: document.getElementById('resultsCard'),
            resultsEmpty: document.getElementById('resultsEmpty'),
            filesList: document.getElementById('filesList'),
            installModal: document.getElementById('installModal'),
            confirmInstall: document.getElementById('confirmInstall'),
            toast: document.getElementById('toast'),
            toastMsg: document.getElementById('toastMsg'),
            toastIcon: document.getElementById('toastIcon')
        };

        let extractedFiles = [];

        function activateEngine() {
            UI.stepAuth.classList.add('hidden');
            UI.stepMain.classList.remove('hidden');
            showToast("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ V3.0", "ğŸš€");
        }

        UI.dropZone.onclick = () => UI.fileInput.click();
        UI.fileInput.onchange = (e) => handleFile(e.target.files[0]);

        async function handleFile(file) {
            if (!file) return;
            UI.resultsEmpty.classList.add('hidden');
            UI.resultsCard.classList.remove('hidden');
            UI.processCard.classList.remove('hidden');
            UI.filesList.innerHTML = '';
            extractedFiles = [];

            try {
                const zip = new JSZip();
                const contents = await zip.loadAsync(file);
                const entries = Object.entries(contents.files).filter(e => !e[1].dir);
                let count = 0;

                // Priority Sorting
                const sorted = entries.sort((a,b) => b[0].endsWith('.apk') - a[0].endsWith('.apk'));

                for (const [name, fileData] of sorted) {
                    const blob = await fileData.async("blob");
                    const ext = name.split('.').pop().toLowerCase();
                    const fileObj = { name, blob, ext, size: formatBytes(blob.size) };
                    
                    extractedFiles.push(fileObj);
                    renderFileCard(fileObj, count);
                    
                    count++;
                    const p = Math.round((count / entries.length) * 100);
                    UI.progressBar.style.width = p + '%';
                    UI.progressLabel.innerText = p + '%';
                    UI.statusTitle.innerText = `Ø¬Ø§Ø±ÙŠ Ø§Ø³ØªØ®Ø±Ø§Ø¬: ${name.split('/').pop()}`;
                }

                UI.processCard.classList.add('hidden');
                showToast("Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§ÙƒØªÙ…Ù„Øª Ø¨Ù†Ø¬Ø§Ø­", "âœ¨");
            } catch (err) {
                showToast("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù", "âš ï¸");
            }
        }

        function renderFileCard(file, index) {
            const div = document.createElement('div');
            div.className = "file-entry tech-card flex items-center justify-between p-6 bg-white rounded-[2rem] border border-gray-50 shadow-sm";
            div.style.animationDelay = `${index * 0.08}s`;
            
            const isAPK = file.ext === 'apk';
            const isOBB = file.ext === 'obb';
            const fileName = file.name.split('/').pop();
            const url = URL.createObjectURL(file.blob);

            div.innerHTML = `
                <div class="flex items-center gap-5 truncate">
                    <div class="w-14 h-14 flex items-center justify-center rounded-2xl font-bold text-2xl ${isAPK ? 'bg-green-50 text-green-500' : isOBB ? 'bg-amber-50 text-amber-500' : 'bg-slate-50 text-slate-400'}">
                        ${isAPK ? 'ğŸ“±' : isOBB ? 'ğŸ“¦' : 'ğŸ“„'}
                    </div>
                    <div class="truncate">
                        <p class="font-black text-gray-800 truncate text-base mb-1">${fileName}</p>
                        <div class="flex items-center gap-2">
                            <span class="px-2 py-0.5 bg-gray-100 rounded text-[9px] font-black text-gray-500 uppercase">${file.ext}</span>
                            <span class="text-[10px] text-gray-300 font-bold">${file.size}</span>
                        </div>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    ${isAPK ? `
                        <button onclick="openInstallModal('${url}', '${fileName}')" class="px-6 py-3 bg-indigo-600 text-white text-xs font-black rounded-xl shadow-lg shadow-indigo-100 hover:scale-105 transition-transform active:scale-95">
                            ØªØ«Ø¨ÙŠØª
                        </button>
                    ` : ''}
                    <a href="${url}" download="${fileName}" class="p-3 bg-gray-50 text-gray-400 rounded-xl hover:bg-indigo-50 hover:text-indigo-500 transition-all">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                    </a>
                </div>
            `;
            UI.filesList.appendChild(div);
        }

        function openInstallModal(url, name) {
            UI.installModal.style.display = 'flex';
            UI.confirmInstall.onclick = () => {
                const link = document.createElement('a');
                link.href = url;
                link.download = name;
                link.click();
                closeModal();
                showToast("Ø¬Ø§Ø±ÙŠ ÙØªØ­ ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„ØªØ«Ø¨ÙŠØª...", "ğŸš€");
            };
        }

        function closeModal() {
            UI.installModal.style.display = 'none';
        }

        async function downloadAll() {
            if (extractedFiles.length === 0) return;
            showToast("Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ù…Ù„Ù Ø§Ù„Ø£Ø±Ø´ÙŠÙ...", "ğŸ“¦");
            const zip = new JSZip();
            extractedFiles.forEach(f => zip.file(f.name, f.blob));
            const content = await zip.generateAsync({type:"blob"});
            const link = document.createElement('a');
            link.href = URL.createObjectURL(content);
            link.download = `TECH_PRO_EXTRACT_${Date.now()}.zip`;
            link.click();
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return (bytes / Math.pow(1024, i)).toFixed(1) + ' ' + ['B', 'KB', 'MB', 'GB'][i];
        }

        function showToast(msg, icon) {
            UI.toastMsg.innerText = msg;
            UI.toastIcon.innerText = icon;
            UI.toast.classList.remove('translate-y-32', 'opacity-0');
            UI.toast.classList.add('translate-y-0', 'opacity-100');
            setTimeout(() => {
                UI.toast.classList.add('translate-y-32', 'opacity-0');
                UI.toast.classList.remove('translate-y-0', 'opacity-100');
            }, 3000);
        }
    </script>
</body>
</html>

